<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1" name="viewport"/>
<title>True Vanilla ‚Äì Page d'accueil</title>
<meta content="Le premier SMP Fran√ßais 90% Vanilla !" name="description"/>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&display=swap" rel="stylesheet"/>
<link href="https://fonts.cdnfonts.com/css/minecraftia" rel="stylesheet"/>
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet"/>
<link rel="icon" type="image/png" href="favicon.png">
<style>
:root{
  --text:#f5f7ff;
  --active:#4facff;
  --dark:#0a0a0a;
  --card-bg:#1a1a1a;
  --spacing: clamp(20px, 5vw, 60px);
}

*{box-sizing:border-box;margin:0;padding:0}

body{
  font-family:Inter,system-ui,sans-serif;
  overflow-x:hidden;
  background:#000;
  color:var(--text);
  line-height:1.6;
}

.bg-slideshow{
  position:fixed;
  inset:0;
  width:100%;
  height:100%;
  z-index:-3;
}

.bg-slide{
  position:absolute;
  inset:0;
  background-size:cover;
  background-position:center;
  background-repeat:no-repeat;
  opacity:0;
  transition:opacity 1.5s ease-in-out;
  filter:brightness(0.7) contrast(1.05);
}

.bg-slide.active{
  opacity:1;
}

/* HEADER */
header{
  position:fixed;
  top:0;
  width:100%;
  z-index:100;
  background:rgba(0,0,0,0.8);
  backdrop-filter:blur(20px);
  border-bottom:1px solid rgba(79,172,255,0.2);
}

.header-content{
  max-width:1400px;
  margin:0 auto;
  display:flex;
  align-items:center;
  justify-content:space-between;
  padding:15px 30px;
  gap:20px;
}

.logo{
  height:60px;
  cursor:pointer;
  transition:transform 0.3s;
}

.logo:hover{transform:scale(1.05)}

nav{
  display:flex;
  gap:10px;
  align-items:center;
}

nav a{
  text-decoration:none;
  color:var(--text);
  padding:8px 16px;
  border-radius:8px;
  font-weight:500;
  font-size:14px;
  transition:all 0.3s;
  position:relative;
}

nav a:hover{
  background:rgba(79,172,255,0.1);
  color:var(--active);
}

nav a.active{
  background:var(--active);
  color:#fff;
}

.server-ip{
  font-weight:600;
  padding:8px 16px;
  border-radius:8px;
  background:rgba(79,172,255,0.1);
  border:1px solid rgba(79,172,255,0.3);
  cursor:pointer;
  transition:all 0.3s;
  font-size:14px;
  position:relative;
}

.server-ip:hover{
  background:rgba(79,172,255,0.2);
  transform:scale(1.05);
}

.copy-bubble{
  position:absolute;
  top:-35px;
  left:50%;
  transform:translateX(-50%) translateY(10px);
  background:#4facff;
  color:#fff;
  font-size:12px;
  padding:6px 12px;
  border-radius:8px;
  opacity:0;
  pointer-events:none;
  transition:all 0.3s;
}

.copy-bubble.show{
  opacity:1;
  transform:translateX(-50%) translateY(0);
}

.burger{
  display:none;
  background:none;
  border:none;
  font-size:24px;
  color:var(--text);
  cursor:pointer;
}

.mobile-menu{
  position:fixed;
  top:0;
  left:-100%;
  width:280px;
  height:100vh;
  background:rgba(0,0,0,0.95);
  backdrop-filter:blur(20px);
  padding:80px 20px 20px;
  transition:left 0.3s;
  z-index:1000;
  overflow-y:auto;
}

.mobile-menu.active{left:0}

.mobile-menu a{
  display:block;
  text-decoration:none;
  color:var(--text);
  padding:12px 16px;
  margin:8px 0;
  border-radius:8px;
  background:rgba(255,255,255,0.05);
  transition:all 0.3s;
}

.mobile-menu a:hover,
.mobile-menu a.active{
  background:var(--active);
  color:#fff;
}

.overlay{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,0.7);
  opacity:0;
  pointer-events:none;
  transition:opacity 0.3s;
  z-index:99;
}

.overlay.active{
  opacity:1;
  pointer-events:auto;
}

/* SECTIONS */
section{
  padding:80px var(--spacing);
  max-width:1400px;
  margin:0 auto;
}

.section-title{
  font-size:clamp(24px,4vw,40px);
  font-weight:800;
  margin-bottom:40px;
  text-align:center;
  text-shadow:0 4px 20px rgba(0,0,0,0.5);
}

/* LIVRE D'OR / STATS */
.livre-dor{
  padding-top:120px;
}

/* PODIUM - EXACT STYLE FROM ORIGINAL */
.podium-container{
  display:flex;
  justify-content:center;
  align-items:flex-end;
  gap:20px;
  margin-bottom:60px;
  flex-wrap:wrap;
}

.podium-place{
  display:flex;
  flex-direction:column;
  align-items:center;
  transition:transform 0.3s;
}

.podium-place:hover{
  transform:translateY(-10px);
}

.podium-player-name{
  font-size:16px;
  font-weight:700;
  margin-bottom:10px;
  text-shadow:0 2px 10px rgba(0,0,0,0.8);
}

.podium-skin-container{
  width:120px;
  height:200px;
  display:flex;
  align-items:flex-end;
  justify-content:center;
}

.podium-skin-container img{
  max-height:100%;
  filter:drop-shadow(0 10px 20px rgba(0,0,0,0.5));
}

.podium-stand{
  width:140px;
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  padding:15px;
  border-radius:12px 12px 0 0;
  background:linear-gradient(180deg,rgba(79,172,255,0.3),rgba(79,172,255,0.1));
  border:1px solid rgba(79,172,255,0.3);
  border-bottom:none;
}

.podium-place.first .podium-stand{
  height:120px;
  background:linear-gradient(180deg,rgba(255,215,0,0.4),rgba(255,215,0,0.1));
  border-color:rgba(255,215,0,0.5);
}

.podium-place.second .podium-stand{
  height:90px;
  background:linear-gradient(180deg,rgba(192,192,192,0.4),rgba(192,192,192,0.1));
  border-color:rgba(192,192,192,0.5);
}

.podium-place.third .podium-stand{
  height:70px;
  background:linear-gradient(180deg,rgba(205,127,50,0.4),rgba(205,127,50,0.1));
  border-color:rgba(205,127,50,0.5);
}

.podium-rank{
  font-size:32px;
  margin-bottom:5px;
}

.podium-points{
  font-size:14px;
  font-weight:600;
  opacity:0.9;
}

/* SEARCH BOX */
.search-box-main{
  max-width:400px;
  margin:0 auto 40px;
}

.search-box-main input{
  width:100%;
  padding:14px 20px;
  font-size:16px;
  border:none;
  border-radius:30px;
  background:rgba(255,255,255,0.1);
  color:var(--text);
  border:1px solid rgba(79,172,255,0.3);
  transition:all 0.3s;
}

.search-box-main input:focus{
  outline:none;
  border-color:var(--active);
  background:rgba(255,255,255,0.15);
}

.search-box-main input::placeholder{
  color:rgba(255,255,255,0.5);
}

/* STATS GRID */
.stats-grid{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(300px,1fr));
  gap:20px;
  margin-bottom:40px;
}

.stat-card{
  background:rgba(0,0,0,0.6);
  border-radius:16px;
  padding:20px;
  border:1px solid rgba(79,172,255,0.2);
  backdrop-filter:blur(10px);
}

.stat-card h4{
  font-size:18px;
  margin-bottom:15px;
  color:var(--active);
}

.stat-card ol{
  list-style:none;
  counter-reset:ranking;
}

.stat-card li{
  display:flex;
  justify-content:space-between;
  padding:8px 0;
  border-bottom:1px solid rgba(255,255,255,0.05);
  transition:all 0.3s;
}

.stat-card li:last-child{
  border-bottom:none;
}

.stat-card li.highlight{
  background:rgba(79,172,255,0.2);
  margin:0 -10px;
  padding:8px 10px;
  border-radius:8px;
}

.stat-card li span:first-child{
  font-weight:500;
}

.stat-card li span:last-child{
  color:var(--active);
  font-weight:600;
}

/* POINTS EXPLANATION */
.points-explanation{
  background:rgba(79,172,255,0.1);
  border:1px solid rgba(79,172,255,0.3);
  border-radius:16px;
  padding:30px;
  text-align:center;
  max-width:800px;
  margin:0 auto;
}

.points-explanation h3{
  font-size:20px;
  margin-bottom:15px;
  color:var(--active);
}

.points-explanation p{
  opacity:0.9;
  line-height:1.8;
}

/* STATS LOADING */
.stats-loading{
  text-align:center;
  padding:60px 20px;
  color:rgba(255,255,255,0.6);
}

.stats-loading .spinner{
  width:50px;
  height:50px;
  border:3px solid rgba(79,172,255,0.2);
  border-top-color:var(--active);
  border-radius:50%;
  animation:spin 1s linear infinite;
  margin:0 auto 20px;
}

@keyframes spin{
  to{transform:rotate(360deg)}
}

.stats-error{
  text-align:center;
  padding:40px 20px;
  color:#ff6b6b;
  background:rgba(255,107,107,0.1);
  border-radius:16px;
  border:1px solid rgba(255,107,107,0.3);
}

.stats-last-update{
  text-align:center;
  font-size:12px;
  color:rgba(255,255,255,0.5);
  margin-top:20px;
}

/* FOOTER */
footer{
  text-align:center;
  padding:30px;
  background:rgba(0,0,0,0.8);
  border-top:1px solid rgba(79,172,255,0.2);
  font-size:14px;
  color:rgba(255,255,255,0.6);
}

/* RESPONSIVE */
@media(max-width:768px){
  .burger{display:block}
  nav{display:none}
  
  .podium-container{
    flex-direction:column;
    align-items:center;
  }
  
  .podium-place.first{order:-1}
  
  .stats-grid{
    grid-template-columns:1fr;
  }
}
</style>
</head>
<body>

<header>
  <div class="header-content">
    <img src="logo.png" alt="True Vanilla" class="logo" onclick="location.href='index.html'"/>
    <nav>
      <a href="index.html" class="active">Accueil</a>
      <a href="#stats">Statistiques</a>
    </nav>
    <div class="server-ip" id="copyIP">
      <span>play.true-vanilla.fr</span>
      <div class="copy-bubble" id="copyBubble">Copi√© !</div>
    </div>
    <button class="burger" id="burgerBtn"><i class="fas fa-bars"></i></button>
  </div>
</header>

<div class="mobile-menu" id="mobileMenu">
  <a href="index.html" class="active">Accueil</a>
  <a href="#stats">Statistiques</a>
</div>
<div class="overlay" id="overlay"></div>

<main>
  <!-- LIVRE D'OR / STATISTIQUES -->
  <section class="livre-dor" id="stats">
    <h2 class="section-title">üìñ Le livre d'or</h2>
    
    <!-- PODIUM - Will be populated by JavaScript -->
    <div class="podium-container" id="podiumContainer">
      <div class="stats-loading">
        <div class="spinner"></div>
        <p>Chargement du podium...</p>
      </div>
    </div>

    <!-- SEARCH BAR -->
    <div class="search-box-main">
      <input type="text" id="searchPseudo" placeholder="üîç Rechercher un pseudo...">
    </div>

    <!-- STATS GRID - Will be populated by JavaScript -->
    <div class="stats-grid" id="statsGrid">
      <div class="stats-loading">
        <div class="spinner"></div>
        <p>Chargement des statistiques...</p>
      </div>
    </div>

    <!-- POINTS EXPLANATION -->
    <div class="points-explanation">
      <h3>üìä Comment sont calcul√©s les points ?</h3>
      <p>
        Le classement du podium est bas√© sur votre <strong>placement dans chaque cat√©gorie</strong>. 
        Pour chaque classement, les 10 premiers joueurs re√ßoivent des points : 
        <strong>1er = 10 pts, 2√®me = 9 pts, ... 10√®me = 1 pt</strong>.<br><br>
        Les cat√©gories positives (kills, temps de jeu, distance, mobs tu√©s, etc.) r√©compensent les valeurs √©lev√©es.
        Les cat√©gories n√©gatives (morts, d√©g√¢ts re√ßus) r√©compensent les valeurs basses.<br><br>
        Le score final est la somme de tous vos points de classement. Jouez bien dans toutes les cat√©gories ! üéÆ
      </p>
    </div>
    
    <div class="stats-last-update" id="lastUpdate"></div>
  </section>
</main>

<footer>
  ¬© <span id="year"></span> True Vanilla ‚Äì Tous droits r√©serv√©s.
</footer>

<script>
// ==========================================
// CONFIGURATION - MODIFIEZ CETTE URL
// ==========================================
const STATS_JSON_URL = 'https://www.true-vanilla.fr/stats.json';
// Exemples:
// - M√™me dossier: 'stats.json'
// - GitHub Pages: 'https://votre-username.github.io/votre-repo/stats.json'

// ==========================================
// CAT√âGORIES DE STATS AVEC LEUR TYPE
// ==========================================
const STAT_CATEGORIES = [
  // Positive categories (higher = better)
  { key: 'playerKills', title: 'üó°Ô∏è Nombre de kills', positive: true },
  { key: 'deaths', title: 'üíÄ Nombre de morts', positive: false },
  { key: 'playTimeHours', title: '‚åõ Heures de jeux', positive: true, formatter: formatPlaytime },
  { key: 'totalDistanceWalked', title: 'üö∂ Distance parcourue', positive: true },
  { key: 'totalDistanceFlown', title: '‚úàÔ∏è Distance vol√©e', positive: true },
  { key: 'chestsOpened', title: 'üóÉÔ∏è Coffres ouverts', positive: true },
  { key: 'mobKills', title: 'üëª Mobs tu√©s', positive: true },
  { key: 'damageDealt', title: 'üí• D√©g√¢ts caus√©s', positive: true },
  { key: 'damageTaken', title: 'üõ°Ô∏è D√©g√¢ts re√ßus', positive: false },
  { key: 'diamondsMined', title: 'üíé Diamants min√©s', positive: true },
  { key: 'ancientDebrisMined', title: 'üî• Ancient Debris min√©', positive: true },
  { key: 'fishCaught', title: 'üé£ Poissons p√™ch√©s', positive: true },
  { key: 'animalsBred', title: 'üêÑ Animaux √©lev√©s', positive: true },
  { key: 'villagerTrades', title: 'üè™ √âchanges villageois', positive: true },
  { key: 'itemsEnchanted', title: '‚ú® Objets enchant√©s', positive: true },
  { key: 'jump', title: 'ü¶ò Sauts', positive: true },
  { key: 'raidWins', title: '‚öîÔ∏è Raids gagn√©s', positive: true }
];

// ==========================================
// FONCTIONS UTILITAIRES
// ==========================================

function formatNumber(num) {
  if (num >= 1000000) return (num / 1000000).toFixed(1) + 'M';
  if (num >= 1000) return (num / 1000).toFixed(1) + 'k';
  return num.toString();
}

function formatPlaytime(hours) {
  return Math.round(hours) + 'h';
}

function getRankEmoji(index) {
  if (index === 0) return 'ü•á';
  if (index === 1) return 'ü•à';
  if (index === 2) return 'ü•â';
  return (index + 1) + '.';
}

// ==========================================
// CALCUL DES SCORES BAS√â SUR LES RANKINGS
// ==========================================

function calculatePodiumScores(players, leaderboards) {
  // Initialize scores for all known players
  const scores = {};
  
  // First, collect all player names from leaderboards
  STAT_CATEGORIES.forEach(cat => {
    if (leaderboards[cat.key] && leaderboards[cat.key][0]) {
      leaderboards[cat.key][0].entries.forEach(entry => {
        if (!scores[entry.name]) {
          scores[entry.name] = 0;
        }
      });
    }
  });
  
  // Also add from players array if provided
  if (players) {
    players.forEach(p => {
      if (p.name && !scores[p.name]) {
        scores[p.name] = 0;
      }
    });
  }
  
  // For each category, add points based on ranking
  STAT_CATEGORIES.forEach(cat => {
    if (leaderboards[cat.key] && leaderboards[cat.key][0]) {
      let entries = [...leaderboards[cat.key][0].entries];
      
      // For negative categories (deaths, damage taken), we want LOW values to get HIGH ranks
      // The leaderboard shows highest first, so for negative categories:
      // - The person with MOST deaths is rank 1 in the leaderboard BUT should get LEAST points
      // - The person with LEAST deaths should get MOST points
      // So we simply reverse the points for negative categories
      
      const maxPoints = 10;
      entries.slice(0, 10).forEach((entry, index) => {
        let points;
        if (cat.positive) {
          // Positive: 1st place (index 0) = 10 pts, 10th place (index 9) = 1 pt
          points = maxPoints - index;
        } else {
          // Negative: 1st place in leaderboard (most deaths) = 1 pt, 10th place = 10 pts
          points = index + 1;
        }
        
        if (scores[entry.name] !== undefined) {
          scores[entry.name] += points;
        }
      });
    }
  });
  
  // Convert to array and sort by score descending
  return Object.entries(scores)
    .map(([name, score]) => ({ name, score }))
    .sort((a, b) => b.score - a.score)
    .slice(0, 3);
}

// ==========================================
// G√âN√âRATION DU PODIUM (EXACT STYLE FROM ORIGINAL)
// ==========================================

function generatePodium(podiumData) {
  if (!podiumData || podiumData.length < 3) {
    return '<div class="stats-error">Donn√©es du podium insuffisantes</div>';
  }
  
  // HTML structure matching the original exactly
  // Order: 2nd place, 1st place, 3rd place (visual order left to right)
  const second = podiumData[1];
  const first = podiumData[0];
  const third = podiumData[2];
  
  return `
    <div class="podium-place second">
      <div class="podium-player-name">${second.name}</div>
      <div class="podium-skin-container">
        <img src="https://starlightskins.lunareclipse.studio/render/walking/${second.name}/full" 
             alt="${second.name}" 
             onerror="this.src='https://mc-heads.net/player/${second.name}/150'">
      </div>
      <div class="podium-stand">
        <div class="podium-rank">ü•à</div>
        <div class="podium-points">${second.score} pts</div>
      </div>
    </div>

    <div class="podium-place first">
      <div class="podium-player-name">${first.name}</div>
      <div class="podium-skin-container">
        <img src="https://starlightskins.lunareclipse.studio/render/walking/${first.name}/full" 
             alt="${first.name}" 
             onerror="this.src='https://mc-heads.net/player/${first.name}/180'">
      </div>
      <div class="podium-stand">
        <div class="podium-rank">ü•á</div>
        <div class="podium-points">${first.score} pts</div>
      </div>
    </div>

    <div class="podium-place third">
      <div class="podium-player-name">${third.name}</div>
      <div class="podium-skin-container">
        <img src="https://starlightskins.lunareclipse.studio/render/walking/${third.name}/full" 
             alt="${third.name}" 
             onerror="this.src='https://mc-heads.net/player/${third.name}/150'">
      </div>
      <div class="podium-stand">
        <div class="podium-rank">ü•â</div>
        <div class="podium-points">${third.score} pts</div>
      </div>
    </div>
  `;
}

// ==========================================
// G√âN√âRATION DES CARTES DE STATS
// ==========================================

function generateStatCard(title, entries, valueFormatter = formatNumber) {
  if (!entries || entries.length === 0) return '';
  
  let html = `
    <div class="stat-card">
      <h4>${title}</h4>
      <ol>
  `;
  
  entries.slice(0, 10).forEach((entry, index) => {
    const rankDisplay = getRankEmoji(index);
    const value = typeof entry.value === 'number' ? valueFormatter(entry.value) : entry.value;
    
    html += `
      <li>
        <span>${rankDisplay} ${entry.name}</span>
        <span>${value}</span>
      </li>
    `;
  });
  
  html += `
      </ol>
    </div>
  `;
  
  return html;
}

function generateAllStatCards(leaderboards) {
  let html = '';
  
  STAT_CATEGORIES.forEach(cat => {
    if (leaderboards[cat.key] && leaderboards[cat.key][0]) {
      const entries = leaderboards[cat.key][0].entries;
      const formatter = cat.formatter || formatNumber;
      html += generateStatCard(cat.title, entries, formatter);
    }
  });
  
  return html;
}

// ==========================================
// CHARGEMENT DES DONN√âES
// ==========================================

async function loadStats() {
  const podiumContainer = document.getElementById('podiumContainer');
  const statsGrid = document.getElementById('statsGrid');
  const lastUpdate = document.getElementById('lastUpdate');
  
  try {
    const response = await fetch(STATS_JSON_URL);
    
    if (!response.ok) {
      throw new Error(`HTTP ${response.status}: ${response.statusText}`);
    }
    
    const data = await response.json();
    
    // Generate stat cards first
    if (data.leaderboards) {
      statsGrid.innerHTML = generateAllStatCards(data.leaderboards);
      
      // Calculate podium from leaderboard rankings
      const podiumData = calculatePodiumScores(data.players || [], data.leaderboards);
      
      if (podiumData && podiumData.length >= 3) {
        podiumContainer.innerHTML = generatePodium(podiumData);
      } else {
        podiumContainer.innerHTML = '<div class="stats-error">Pas assez de joueurs pour le podium</div>';
      }
    } else {
      statsGrid.innerHTML = '<div class="stats-error">Pas de donn√©es de classement</div>';
      podiumContainer.innerHTML = '<div class="stats-error">Pas de donn√©es de classement</div>';
    }
    
    // Show last update time
    if (data.exportedAt) {
      lastUpdate.textContent = `Derni√®re mise √† jour: ${data.exportedAt}`;
    } else if (data.lastUpdated) {
      const date = new Date(data.lastUpdated);
      lastUpdate.textContent = `Derni√®re mise √† jour: ${date.toLocaleString('fr-FR')}`;
    }
    
    // Initialize search after loading
    initSearch();
    
  } catch (error) {
    console.error('Erreur lors du chargement des stats:', error);
    
    podiumContainer.innerHTML = `
      <div class="stats-error">
        <p>‚ö†Ô∏è Impossible de charger les statistiques</p>
        <p style="font-size:12px;margin-top:10px;opacity:0.7">${error.message}</p>
        <p style="font-size:12px;margin-top:5px;opacity:0.5">V√©rifiez que le fichier stats.json est accessible</p>
      </div>
    `;
    statsGrid.innerHTML = '';
  }
}

// ==========================================
// RECHERCHE
// ==========================================

function initSearch() {
  const searchInput = document.getElementById('searchPseudo');
  
  searchInput.addEventListener('input', () => {
    const query = searchInput.value.toLowerCase().trim();
    
    // Remove all previous highlights
    document.querySelectorAll('.stat-card li').forEach(li => {
      li.classList.remove('highlight');
    });
    
    if (query) {
      let firstMatch = null;
      
      // Search in all stat cards
      document.querySelectorAll('.stat-card li').forEach(li => {
        const text = li.textContent.toLowerCase();
        if (text.includes(query)) {
          li.classList.add('highlight');
          if (!firstMatch) firstMatch = li;
        }
      });
      
      // Scroll to first match
      if (firstMatch) {
        firstMatch.scrollIntoView({ behavior: 'smooth', block: 'center' });
      }
    }
  });
}

// ==========================================
// INITIALISATION
// ==========================================

document.addEventListener('DOMContentLoaded', () => {
  // Year in footer
  document.getElementById('year').textContent = new Date().getFullYear();
  
  // Copy IP functionality
  const copyIP = document.getElementById('copyIP');
  const copyBubble = document.getElementById('copyBubble');
  copyIP.addEventListener('click', () => {
    navigator.clipboard.writeText('play.true-vanilla.fr');
    copyBubble.classList.add('show');
    setTimeout(() => copyBubble.classList.remove('show'), 2000);
  });
  
  // Mobile menu
  const burgerBtn = document.getElementById('burgerBtn');
  const mobileMenu = document.getElementById('mobileMenu');
  const overlay = document.getElementById('overlay');
  
  function toggleMenu() {
    mobileMenu.classList.toggle('active');
    overlay.classList.toggle('active');
  }
  
  burgerBtn.addEventListener('click', toggleMenu);
  overlay.addEventListener('click', toggleMenu);
  
  document.querySelectorAll('.mobile-menu a').forEach(link => {
    link.addEventListener('click', toggleMenu);
  });
  
  // Load stats from JSON
  loadStats();
  
  // Auto-refresh stats every 5 minutes
  setInterval(loadStats, 5 * 60 * 1000);
});
</script>
</body>
</html>
